<!DOCTYPE html>
<html id="html-root" lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="theme-color" content="#007bff" />
  <title>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ TPL</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- Favicon + PWA -->
  <link rel="icon" type="image/png" sizes="192x192" href="tpl-logo.png" />
  <link rel="apple-touch-icon" href="tpl-logo.png" />
  <link rel="manifest" href="manifest.json" />
</head>

<body>
  <!-- SIDE MENU + OVERLAY -->
  <div class="overlay" id="overlay" aria-hidden="true"></div>

  <nav class="side-menu" id="side-menu" aria-hidden="true">
    <div class="side-menu-header">
      <img src="tpl-logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø TPL" class="side-logo" />
      <button id="menu-close" class="menu-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é">‚úï</button>
    </div>

    <ul class="side-links">
      <li><a href="index.html" class="side-link">üóìÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a></li>
      <li><a href="instructions.html" class="side-link">üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</a></li>
    </ul>

    <div class="side-actions">
      <button id="side-theme-toggle" class="side-action-btn" aria-label="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">üåô</button>
      <button id="side-lang-toggle" class="side-action-btn" aria-label="–°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫">üá∑üá∫</button>
    </div>
  </nav>

  <!-- HEADER -->
  <header>
    <div class="header-left">
      <button id="menu-btn" class="menu-btn" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">‚ò∞</button>
      <img src="tpl-logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø TPL" class="logo" />
      <h1>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ TPL</h1>
    </div>

    <nav class="main-nav">
      <a href="index.html" class="nav-link">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
      <a href="instructions.html" class="nav-link active">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</a>
    </nav>

    <div class="header-buttons">
      <button id="theme-toggle" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">üåô</button>
      <button id="lang-toggle" title="–°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫">üá∑üá∫</button>
    </div>
  </header>

  <!-- CONTENT -->
  <main class="instructions-container">
    <section class="instructions-card">
      <h2 id="instructions-title">üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ TPL</h2>
      <p id="instructions-welcome">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–¥–µ–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø—Ä–æ–µ–∫—Ç–∞ <strong>TPL</strong>.</p>

      <h3 id="step1-title">üîπ –®–∞–≥ 1 ‚Äî –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞</h3>
      <ul id="step1-items">
        <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ—ë —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.</li>
        <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω—É–∂–Ω—ã–π –≤–∞–º –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç —Å–≤–æ–±–æ–¥–µ–Ω.</li>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É <strong>+</strong>, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.</li>
      </ul>

      <h3 id="step2-title">üîπ –®–∞–≥ 2 ‚Äî –ù–∞ –º–µ—Å—Ç–µ</h3>
      <ul id="step2-items">
        <li>–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å –≤–∞—à–∏–º —É—á–∞—Å—Ç–∫–æ–º (H√¥tel-Dieu, Pr√©fecture, Tour Bretagne –∏ —Ç.–¥.).</li>
        <li>–ù–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∑–æ–Ω–µ –∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ —Å–≤–æ—ë —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ.</li>
        <li>–í —Å–ª—É—á–∞–µ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ –∏ —Ç.–ø.) –ø–æ–∫–∏–Ω—å—Ç–µ –º–µ—Å—Ç–æ, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.</li>
      </ul>

      <h3 id="step3-title">üîπ –®–∞–≥ 3 ‚Äî –ü–æ—Å–ª–µ —Å–ª—É–∂–µ–Ω–∏—è</h3>
      <ul id="step3-items">
        <li>–°–æ–æ–±—â–∏—Ç–µ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –±—Ä–∞—Ç—É –¢–∏–º–æ—Ç–µ –î–µ–≤–∏–Ω—É.</li>
        <li>–ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã.</li>
      </ul>

      <hr />

      <h3 id="map-title">üó∫Ô∏è –ö–∞—Ä—Ç–∞ —Ç–æ—á–µ–∫ TPL</h3>
      <p id="map-text">–í–æ—Ç –∫–∞—Ä—Ç–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–ª—è TPL:</p>

      <div class="map-container">
        <iframe 
          style="width: 100%; height: 350px; border: 0;" 
          allowfullscreen 
          allow="geolocation"
          src="//umap.openstreetmap.fr/fr/map/points-tpl-nantes-russe_1315005?scaleControl=false&miniMap=false&scrollWheelZoom=false&zoomControl=true&editMode=disabled&moreControl=true&searchControl=null&tilelayersControl=null&embedControl=null&datalayersControl=true&onLoadPanel=none&captionBar=false&captionMenus=true">
        </iframe>
      </div>

      <p style="text-align:center; margin-top:10px;">
        <a id="fullscreen-map" href="//umap.openstreetmap.fr/fr/map/points-tpl-nantes-russe_1315005?scrollWheelZoom=true&zoomControl=true" target="_blank">
          üîé –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        </a>
      </p>

      <hr />

      <h3 id="tips-title">‚ÑπÔ∏è –°–æ–≤–µ—Ç—ã</h3>
      <p id="tips-text">–°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è PWA. –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –≤–∞—à–µ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –ø–ª–∞–Ω—à–µ—Ç–∞.</p>
    </section>
  </main>

  <!-- Scripts -->
  <script src="script.js"></script>
  <script>
    const translations = {
      fr: { /* ... d√©j√† d√©fini dans script.js ... */ },
      ru: {
        instructionsTitle: "üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ TPL",
        instructionsWelcome: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–¥–µ–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø—Ä–æ–µ–∫—Ç–∞ TPL.",
        step1Title: "üîπ –®–∞–≥ 1 ‚Äî –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞",
        step1Items: [
          "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ—ë —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.",
          "–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω—É–∂–Ω—ã–π –≤–∞–º –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç —Å–≤–æ–±–æ–¥–µ–Ω.",
          "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É +, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏."
        ],
        step2Title: "üîπ –®–∞–≥ 2 ‚Äî –ù–∞ –º–µ—Å—Ç–µ",
        step2Items: [
          "–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å –≤–∞—à–∏–º —É—á–∞—Å—Ç–∫–æ–º (H√¥tel-Dieu, Pr√©fecture, Tour Bretagne –∏ —Ç.–¥.).",
          "–ù–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∑–æ–Ω–µ –∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ —Å–≤–æ—ë —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ.",
          "–í —Å–ª—É—á–∞–µ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ –∏ —Ç.–ø.) –ø–æ–∫–∏–Ω—å—Ç–µ –º–µ—Å—Ç–æ, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ."
        ],
        step3Title: "üîπ –®–∞–≥ 3 ‚Äî –ü–æ—Å–ª–µ —Å–ª—É–∂–µ–Ω–∏—è",
        step3Items: [
          "–°–æ–æ–±—â–∏—Ç–µ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –±—Ä–∞—Ç—É –¢–∏–º–æ—Ç–µ –î–µ–≤–∏–Ω—É.",
          "–ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã."
        ],
        mapTitle: "üó∫Ô∏è –ö–∞—Ä—Ç–∞ —Ç–æ—á–µ–∫ TPL",
        mapText: "–í–æ—Ç –∫–∞—Ä—Ç–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–ª—è TPL:",
        fullscreenMap: "üîé –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω",
        tipsTitle: "‚ÑπÔ∏è –°–æ–≤–µ—Ç—ã",
        tipsText: "–°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è PWA. –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –≤–∞—à–µ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –ø–ª–∞–Ω—à–µ—Ç–∞."
      }
    };

    function updateInstructionsLanguage(lang) {
      if (!translations[lang]) return;
      document.getElementById("instructions-title").textContent = translations[lang].instructionsTitle;
      document.getElementById("instructions-welcome").textContent = translations[lang].instructionsWelcome;
      document.getElementById("step1-title").textContent = translations[lang].step1Title;
      const step1List = document.getElementById("step1-items"); step1List.innerHTML = "";
      translations[lang].step1Items.forEach(item => { const li = document.createElement("li"); li.textContent = item; step1List.appendChild(li); });
      document.getElementById("step2-title").textContent = translations[lang].step2Title;
      const step2List = document.getElementById("step2-items"); step2List.innerHTML = "";
      translations[lang].step2Items.forEach(item => { const li = document.createElement("li"); li.textContent = item; step2List.appendChild(li); });
      document.getElementById("step3-title").textContent = translations[lang].step3Title;
      const step3List = document.getElementById("step3-items"); step3List.innerHTML = "";
      translations[lang].step3Items.forEach(item => { const li = document.createElement("li"); li.textContent = item; step3List.appendChild(li); });
      document.getElementById("map-title").textContent = translations[lang].mapTitle;
      document.getElementById("map-text").textContent = translations[lang].mapText;
      document.getElementById("fullscreen-map").textContent = translations[lang].fullscreenMap;
      document.getElementById("tips-title").textContent = translations[lang].tipsTitle;
      document.getElementById("tips-text").textContent = translations[lang].tipsText;
      document.getElementById("lang-toggle").textContent = lang === "fr" ? "üá´üá∑" : "üá∑üá∫";
      document.getElementById("side-lang-toggle").textContent = lang === "fr" ? "üá´üá∑" : "üá∑üá∫";
    }

    function toggleLanguage() {
      const newLang = document.documentElement.lang === "fr" ? "ru" : "fr";
      document.documentElement.lang = newLang;
      updateInstructionsLanguage(newLang);
    }

    document.getElementById("lang-toggle").addEventListener("click", toggleLanguage);
    document.getElementById("side-lang-toggle").addEventListener("click", toggleLanguage);

    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("‚úÖ Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"))
        .catch(err => console.error("‚ùå –û—à–∏–±–∫–∞ Service Worker :", err));
    }

    updateInstructionsLanguage(document.documentElement.lang);
  </script>
</body>
</html>
