<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Instructions ‚Äî Planning TPL</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1 id="instructions-title">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h1>
    <button id="lang-toggle">üá∑üá∫</button>
  </header>

  <main>
    <p id="instructions-welcome">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.</p>

    <section>
      <h2 id="step1-title">–®–∞–≥ 1</h2>
      <ul id="step1-items"></ul>
    </section>

    <section>
      <h2 id="step2-title">–®–∞–≥ 2</h2>
      <ul id="step2-items"></ul>
    </section>

    <section>
      <h2 id="step3-title">–®–∞–≥ 3</h2>
      <ul id="step3-items"></ul>
    </section>

    <section>
      <h2 id="map-title">–ö–∞—Ä—Ç–∞</h2>
      <p id="map-text">–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ:</p>
      <button id="fullscreen-map">–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞</button>
    </section>

    <section>
      <h2 id="tips-title">–°–æ–≤–µ—Ç—ã</h2>
      <p id="tips-text">–ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
    </section>
  </main>

  <script>
    const translations = {
      fr: {
        instructionsTitle: "Instructions",
        instructionsWelcome: "Bienvenue ! Voici les instructions pour utiliser le planning.",
        step1Title: "√âtape 1",
        step1Items: ["Ouvrir le planning", "S√©lectionner une date", "Consulter les √©v√©nements"],
        step2Title: "√âtape 2",
        step2Items: ["Ajouter un √©v√©nement", "Modifier un √©v√©nement existant", "Supprimer un √©v√©nement"],
        step3Title: "√âtape 3",
        step3Items: ["Exporter en PDF", "Changer le th√®me", "Acc√©der aux instructions"],
        mapTitle: "Carte",
        mapText: "Vous pouvez ouvrir la carte en plein √©cran :",
        fullscreenMap: "Carte plein √©cran",
        tipsTitle: "Conseils",
        tipsText: "Quelques astuces pour mieux utiliser le planning."
      },
      ru: {
        instructionsTitle: "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏",
        instructionsWelcome: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.",
        step1Title: "–®–∞–≥ 1",
        step1Items: ["–û—Ç–∫—Ä—ã—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "–í—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É", "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–±—ã—Ç–∏—è"],
        step2Title: "–®–∞–≥ 2",
        step2Items: ["–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ", "–ò–∑–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ", "–£–¥–∞–ª–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ"],
        step3Title: "–®–∞–≥ 3",
        step3Items: ["–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF", "–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É", "–ü–µ—Ä–µ–π—Ç–∏ –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º"],
        mapTitle: "–ö–∞—Ä—Ç–∞",
        mapText: "–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ:",
        fullscreenMap: "–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞",
        tipsTitle: "–°–æ–≤–µ—Ç—ã",
        tipsText: "–ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è."
      }
    };

    // R√©cup√©rer la langue stock√©e ou utiliser la langue du document
    const storedLang = localStorage.getItem("tpl-lang");
    const initialLang = storedLang || document.documentElement.lang || "fr";

    function updateInstructionsLanguage(lang) {
      if (!translations[lang]) return;
      document.documentElement.lang = lang;

      document.getElementById("instructions-title").textContent = translations[lang].instructionsTitle;
      document.getElementById("instructions-welcome").textContent = translations[lang].instructionsWelcome;

      const fillList = (id, items) => {
        const ul = document.getElementById(id);
        ul.innerHTML = "";
        items.forEach(item => {
          const li = document.createElement("li");
          li.textContent = item;
          ul.appendChild(li);
        });
      };

      fillList("step1-items", translations[lang].step1Items);
      fillList("step2-items", translations[lang].step2Items);
      fillList("step3-items", translations[lang].step3Items);

      document.getElementById("step1-title").textContent = translations[lang].step1Title;
      document.getElementById("step2-title").textContent = translations[lang].step2Title;
      document.getElementById("step3-title").textContent = translations[lang].step3Title;

      document.getElementById("map-title").textContent = translations[lang].mapTitle;
      document.getElementById("map-text").textContent = translations[lang].mapText;
      document.getElementById("fullscreen-map").textContent = translations[lang].fullscreenMap;

      document.getElementById("tips-title").textContent = translations[lang].tipsTitle;
      document.getElementById("tips-text").textContent = translations[lang].tipsText;

      document.getElementById("lang-toggle").textContent = lang === "fr" ? "üá´üá∑" : "üá∑üá∫";

      localStorage.setItem("tpl-lang", lang);
    }

    function toggleLanguage() {
      const current = document.documentElement.lang;
      const newLang = current === "fr" ? "ru" : "fr";
      updateInstructionsLanguage(newLang);
    }

    document.getElementById("lang-toggle").addEventListener("click", toggleLanguage);

    // Initialisation
    updateInstructionsLanguage(initialLang);
  </script>
</body>
</html>
